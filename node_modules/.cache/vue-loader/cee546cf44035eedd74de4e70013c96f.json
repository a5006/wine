{"remainingRequest":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/MyInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/MyInfo.vue","mtime":1574262312000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZWRpdE1vZGFsOiBmYWxzZSwKICAgICAgdXNlck5hbWU6ICcnLAogICAgICBtb2RhbFZhbDogJycsCiAgICAgIHBldE5hbWU6ICcnLAogICAgICBwaG9uZTogJycsCiAgICAgIGF2YXRhcjogJycsCiAgICAgIGxpc3Q6IFsKICAgICAgICB7IGlkOiAwLCB0aXRsZTogJ+aYteensCcsIHR5cGU6ICduaWNrbmFtZScsIHZhbHVlOiAnJyB9LAogICAgICAgIHsgaWQ6IDEsIHRpdGxlOiAn55yf5a6e5aeT5ZCNJywgdHlwZTogJ25hbWUnLCB2YWx1ZTogJycgfSwKICAgICAgICB7IGlkOiAyLCB0aXRsZTogJ+eUteivneWPt+eggScsIHR5cGU6ICdwaG9uZScsIHZhbHVlOiAnJyB9CiAgICAgIF0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dFZGl0TW9kYWwoZSkgewogICAgICB0aGlzLmVkaXRNb2RhbCA9IGUgPT09ICfnnJ/lrp7lp5PlkI0nCiAgICB9LAogICAgcXVlcnlJbmZvKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0TXlJbmZvJykKICAgIH0sCiAgICBoYW5kbGVDb25maXJtVXNlckluZm8oZSkgewogICAgICBjb25zb2xlLmxvZyhlKQogICAgfSwKICAgIGJlZm9yZUNsb3NlKGEsIGQpIHsKICAgICAgY29uc29sZS5sb2coYSkKICAgICAgaWYgKGEgPT09ICdjYW5jZWwnKSB7CiAgICAgICAgZCgpCiAgICAgIH0gZWxzZSBpZiAoYSA9PT0gJ2NvbmZpcm0nKSB7CiAgICAgICAgaWYgKCF0aGlzLm1vZGFsVmFsKSB7CiAgICAgICAgICB0aGlzLiR0b2FzdCgn5aeT5ZCN5LiN6IO95Li656m6JykKICAgICAgICAgIGQoZmFsc2UpCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2VkaXROYW1lJywgewogICAgICAgICAgbmFtZTogdGhpcy5tb2RhbFZhbAogICAgICAgIH0pCiAgICAgICAgZCh0cnVlKQogICAgICAgIAogICAgICB9CiAgICAgIHRoaXMubW9kYWxWYWwgPSAnJwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG15SW5mbygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm15SW5mbwogICAgfSwKICAgIHJlYWxOYW1lKCl7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5yZWFsTmFtZQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHJlYWxOYW1lKGQpewogICAgICBpZihkLmRhdGE9PT0xKXsKICAgICAgICB0aGlzLnF1ZXJ5SW5mbygpCiAgICAgIH0KICAgIH0sCiAgICBteUluZm8oZCkgewogICAgICAvLyDkuKrkurrkv6Hmga8KICAgICAgbGV0IHsgbXlfdXNlcl9pbmZvIH0gPSBkCiAgICAgIGxldCB7IGhlYWRpbWcsIHBob25lLCBuaWNrbmFtZSwgbmFtZSB9ID0gbXlfdXNlcl9pbmZvCiAgICAgIHRoaXMubmFtZSA9IG5hbWUKICAgICAgdGhpcy5hdmF0YXIgPSBoZWFkaW1nCiAgICAgIHRoaXMubmFtZSA9IG5pY2tuYW1lCiAgICAgIHRoaXMucGhvbmUgPSBwaG9uZQogICAgICBsZXQgYXJyID0gW25pY2tuYW1lLCBuYW1lLCBwaG9uZV0KICAgICAgdGhpcy5saXN0ID0gdGhpcy5saXN0Lm1hcCgoaXRlbSwgaWR4KSA9PiB7CiAgICAgICAgaXRlbS52YWx1ZSA9IGFycltpZHhdCiAgICAgICAgcmV0dXJuIGl0ZW0KICAgICAgfSkKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnF1ZXJ5SW5mbygpCiAgfQp9Cg=="},{"version":3,"sources":["MyInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyInfo.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"list\">\n    <Gheader title=\"个人信息\" back=\"1\" />\n    <div class=\"list_content\">\n      <div class=\"item flex_bet auto\">\n        <p class=\"title\">头像</p>\n        <van-image width=\"1.5rem\" height=\"1.5rem\" round lazy-load :src=\"avatar\" />\n      </div>\n      <div\n        class=\"item flex_bet\"\n        v-for=\"item in list\"\n        :key=\"item.id\"\n        @click=\"showEditModal(item.title)\"\n      >\n        <p class=\"title\">{{item.title}}</p>\n        <p class=\"gray\">{{item.value}}</p>\n      </div>\n    </div>\n\n    <!-- 弹窗组件 -->\n    <van-dialog v-model=\"editModal\" title=\"真实姓名\" show-cancel-button :beforeClose=\"beforeClose\">\n      <van-field v-model=\"modalVal\" placeholder=\"请输入真实姓名\" />\n    </van-dialog>\n  </div>\n</template>\n<script>\nexport default {\n  components: {},\n  data() {\n    return {\n      editModal: false,\n      userName: '',\n      modalVal: '',\n      petName: '',\n      phone: '',\n      avatar: '',\n      list: [\n        { id: 0, title: '昵称', type: 'nickname', value: '' },\n        { id: 1, title: '真实姓名', type: 'name', value: '' },\n        { id: 2, title: '电话号码', type: 'phone', value: '' }\n      ]\n    }\n  },\n  methods: {\n    showEditModal(e) {\n      this.editModal = e === '真实姓名'\n    },\n    queryInfo() {\n      this.$store.dispatch('getMyInfo')\n    },\n    handleConfirmUserInfo(e) {\n      console.log(e)\n    },\n    beforeClose(a, d) {\n      console.log(a)\n      if (a === 'cancel') {\n        d()\n      } else if (a === 'confirm') {\n        if (!this.modalVal) {\n          this.$toast('姓名不能为空')\n          d(false)\n          return\n        }\n        this.$store.dispatch('editName', {\n          name: this.modalVal\n        })\n        d(true)\n        \n      }\n      this.modalVal = ''\n    }\n  },\n  computed: {\n    myInfo() {\n      return this.$store.state.myInfo\n    },\n    realName(){\n      return this.$store.state.realName\n    }\n  },\n  watch: {\n    realName(d){\n      if(d.data===1){\n        this.queryInfo()\n      }\n    },\n    myInfo(d) {\n      // 个人信息\n      let { my_user_info } = d\n      let { headimg, phone, nickname, name } = my_user_info\n      this.name = name\n      this.avatar = headimg\n      this.name = nickname\n      this.phone = phone\n      let arr = [nickname, name, phone]\n      this.list = this.list.map((item, idx) => {\n        item.value = arr[idx]\n        return item\n      })\n    }\n  },\n  mounted() {\n    this.queryInfo()\n  }\n}\n</script>\n<style scoped>\n.list_content {\n  background: #fff;\n  border-bottom: 1px solid rgba(210, 210, 210, 1);\n}\n.img {\n  width: 1rem;\n  height: 1rem;\n}\n.item {\n  /* height: 1.32rem; */\n  background: rgba(255, 255, 255, 1);\n  border-top: 1px solid rgba(210, 210, 210, 1);\n  font-size: 0.4rem;\n  padding: 0.3rem 0.4rem;\n}\n.gray {\n  color: #999;\n}\n.title {\n  color: #222;\n}\n.van-cell {\n  border: 1px solid #d6d6d6;\n  border-radius: 0.0667rem;\n  margin-top: 0.2rem;\n  text-align: center;\n}\n</style>"]}]}