{"remainingRequest":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/Home.vue?vue&type=style&index=0&id=fae5bece&lang=postcss&scoped=true&","dependencies":[{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/Home.vue","mtime":1574346046000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_css-loader@3.2.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudmFuLXN3aXBlIHsKICBiYWNrZ3JvdW5kOiAjZmZmOwp9Ci5pbWcgewogIHdpZHRoOiAxMHJlbTsKICBoZWlnaHQ6IDZyZW07Cn0KLm1lbnUgewogIGJveC1zaGFkb3c6IDBweCAycHggNnB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMTUpOwp9Ci5tZW1iZXJfZ29vZHMgewogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgd29yZC1icmVhazogYnJlYWstYWxsOwogIG92ZXJmbG93LXg6IGF1dG87Cn0KLnByaWNlX2JveCB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoucHJpY2VfYm94IHAgewogIGZvbnQtc2l6ZTogMTZweDsKfQoucHJpY2VfYm94IGltZyB7CiAgd2lkdGg6IDAuNXJlbTsKICBoZWlnaHQ6IDAuNXJlbTsKfQoucGFkX2JvdHRvbSB7CiAgcGFkZGluZy1ib3R0b206IDJyZW07Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["\n<template>\n  <div>\n    <Gheader title=\"酒海会友\" />\n    <!-- 通知栏 -->\n    <van-notice-bar :text=\"text\" left-icon=\"volume-o\" mode=\"link\" @click=\"jumpNoticePage\" />\n    <!-- 轮播 -->\n    <van-swipe :autoplay=\"3000\" indicator-color=\"#E70002\">\n      <van-swipe-item v-for=\"(item, index) in banner\" :key=\"index\" @click=\"handleClickSwiper(item)\">\n        <img class=\"img\" v-lazy=\"formatImg(item.img)\" />\n      </van-swipe-item>\n    </van-swipe>\n    <!-- 宫格  -->\n    <div class=\"menu\">\n      <van-grid :column-num=\"3\" icon-size=\"50\" :border=\"border\" :clickable=\"!border\">\n        <van-grid-item\n          v-for=\"item in MenuList\"\n          :key=\"item.id\"\n          :icon=\"item.img\"\n          :to=\"item.to\"\n          :text=\"item.name\"\n        />\n      </van-grid>\n    </div>\n    <div class=\"space_container pad_bottom\">\n      <!-- 零售区 -->\n      <TypeTitle\n        :icon=\"typeTitle[0].icon\"\n        :time=\"retailTime\"\n        :title=\"typeTitle[0].title\"\n        :to=\"'/goodsList?type=retail&time='+retailTime+'&lsq_period_id='+lsq_period_id\"\n      />\n\n      <ShopCard\n        v-for=\"item in retailGoods\"\n        :key=\"item.goods_id\"\n        :title=\"item.goods_name\"\n        :img=\"item.img\"\n        :price=\"formatPrice(item.price)\"\n        :bgImg=\"item.bgImg\"\n        :btnName=\"item.btnName\"\n        :tag=\"item.tag\"\n        :tagP=\"item.tagP\"\n        @choose=\"handleChoose(item,'retail',lsq_period_id)\"\n        @buy=\"handleBuy(item.id)\"\n      />\n      <!-- 代理区 -->\n      <TypeTitle :icon=\"typeTitle[1].icon\" :time=\"agentTime\" :title=\"typeTitle[1].title\"\n        :to=\"'/goodsList?type=agent&time='+agentTime+'&dlq_period_id='+dlq_period_id\"\n       />\n      <ShopCard\n        v-for=\"item in agentList\"\n        :key=\"item.id\"\n        :title=\"item.goods_name\"\n        :img=\"item.img\"\n        :price=\"formatPrice(item.price)\"\n        :bgImg=\"item.bgImg\"\n        :btnName=\"item.btnName\"\n        :tag=\"item.tag\"\n        :tagP=\"item.tagP\"\n          @choose=\"handleChoose(item,'agent',dlq_period_id)\"\n      />\n\n      <!-- 会员尊享 -->\n      <TypeTitle :icon=\"typeTitle[2].icon\" :time=\"typeTitle[2].time\" :title=\"typeTitle[2].title\" \n         to=\"/goodsList?type=member\"\n      />\n      <div class=\"member_goods\">\n        <ShopCardCol\n          v-for=\"item in memberGoods\"\n          :key=\"item.id\"\n          :title=\"item.goods_name\"\n          :price=\"formatPrice(item.price)\"\n          :btnName=\"item.btnName\"\n          :img=\"item.img\"\n              @choose=\"handleChoose(item,'member')\"\n        ></ShopCardCol>\n      </div>\n      <!-- 个性化定制 -->\n      <TypeTitle :icon=\"typeTitle[3].icon\" :time=\"typeTitle[3].time\" :title=\"typeTitle[3].title\" \n         to=\"/goodsList?type=special\"\n      />\n      <div class=\"member_goods\">\n        <ShopCardCol\n          v-for=\"item in specialList\"\n          :key=\"item.id\"\n          :title=\"item.goods_name\"\n          :price=\"formatPrice(item.price)\"\n          :btnName=\"item.btnName\"\n          :img=\"item.img\"\n            @choose=\"handleChoose(item,'special')\"\n        >\n          <div slot=\"footer\">\n            <div class=\"price_box\" @click=\"handleCheck(item.id)\">\n              <p class=\"price\">￥{{formatPrice(item.price)}}</p>\n              <img src=\"../assets/icons/home/r-contact.png\" alt />\n            </div>\n          </div>\n        </ShopCardCol>\n      </div>\n    </div>\n    <Footer />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\nimport TypeTitle from '@/components/TypeTitle.vue'\nimport ShopCard from '@/components/ShopCard.vue'\nimport ShopCardCol from '@/components/ShopCardCol.vue'\nimport Footer from '@/components/Footer.vue'\n\nexport default {\n  name:'home',\n  components: { TypeTitle, ShopCard, ShopCardCol, Footer },\n  data() {\n    return {\n      border: false,\n      retailTime: 0,\n      agentTime: 0,\n      dlq_period_id:'',\nlsq_period_id:'',\n      typeTitle: [\n        {\n          title: '零售区',\n          icon: require('$a/icons/home/r-sale.png')\n        },\n        {\n          title: '代理区',\n          time: 1000000,\n          icon: require('$a/icons/home/r-proxy.png')\n        },\n        {\n          title: '会员尊享',\n          icon: require('$a/icons/home/r-member.png')\n        },\n        {\n          title: '个性化定制',\n          icon: require('$a/icons/home/r-special.png')\n        }\n      ],\n      time: 30 * 60 * 60 * 1000,\n      MenuList: [\n        {\n          name: '会员权益',\n          id: 0,\n          to: '/assist',\n          img: require('$a/icons/home/member.png')\n        },\n        {\n          name: '线上代理商',\n          id: 1,\n       to: '/assist',\n          img: require('$a/icons/home/proxy.png')\n        },\n        {\n          name: '线下代理商',\n          id: 2,\n       to: '/assist',\n          img: require('$a/icons/home/proxy2.png')\n        },\n        {\n          name: '企业介绍',\n          id: 3,\n       to: '/assist',\n          img: require('$a/icons/home/introduce.png')\n        },\n        {\n          name: '产品介绍',\n          id: 4,\n       to: '/assist',\n          img: require('$a/icons/home/about.png')\n        },\n        {\n          name: '联系客服',\n          id: 5,\n       to: '/assist',\n          img: require('$a/icons/home/contact.png')\n        }\n      ],\n      text: '了解更多权益与升级规则 >>',\n      banner: [],\n      retailGoods: [],\n      agentList: [],\n      specialList: [],\n      memberGoods: []\n    }\n  },\n  methods: {\n    handleGetDetail(item) {\n      console.log(item)\n    },\n    jumpNoticePage() {\n      this.$router.push('/assist')\n    },\n    handleBuy(e) {\n      console.log(e, 'buy')\n    },\n    handleCheck(e) {\n      console.log(e)\n    },\n    handleClickSwiper(item) {\n      console.log(item)\n    },\n \n    handleChoose(item,type,id) {\n      this.$router.push({\n        path: '/goodsDetail',\n        query:{\n          goods_id:item.goods_id||item.id,\n          period_id:id,\n          type\n        }\n      })\n    },\n    formatGoodsList(list) {\n      return list.map(item => {\n        item.tag = '送'\n        item.tagP = `${item.dlq_add_nums || item.dlq_need_nums}张代理券`\n        item.img = this.formatImg(item.cover)\n        item.bgImg = require('$a/icons/home/buy.png')\n        item.btnName = '去抢购'\n        return item\n      })\n    }\n  },\n  computed: {\n    indexData() {\n      return this.$store.state.indexData\n    }\n  },\n  watch: {\n    indexData(data) {\n      console.log(data)\n      this.banner = data.banner\n      // 零售\n      this.retailGoods = this.formatGoodsList(data.index_lsq_goods_list)\n      // 代理\n      this.agentList = this.formatGoodsList(data.index_dlq_goods_list)\n      // 会员\n      this.memberGoods = this.formatGoodsList(data.index_hyzx_goods_list)\n      //个性\n      this.specialList = this.formatGoodsList(data.index_gxhdz_goods_list)\n      // 零售倒计时\n      this.retailTime = data.index_lsq_remain_time&&data.index_dlq_remain_time  * 1000\n      this.agentTime = data.index_dlq_remain_time&&data.index_dlq_remain_time  * 1000\n  //  跳转所需要id\n  this.dlq_period_id = data.dlq_period_id\n  this.lsq_period_id = data.lsq_period_id\n   \n   }\n  },\n  mounted() {\n    this.$store.dispatch('getIndex')\n  }\n}\n</script>\n\n<style lang=\"postcss\" scoped>\n.van-swipe {\n  background: #fff;\n}\n.img {\n  width: 10rem;\n  height: 6rem;\n}\n.menu {\n  box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.15);\n}\n.member_goods {\n  white-space: nowrap;\n  word-break: break-all;\n  overflow-x: auto;\n}\n.price_box {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.price_box p {\n  font-size: 16px;\n}\n.price_box img {\n  width: 0.5rem;\n  height: 0.5rem;\n}\n.pad_bottom {\n  padding-bottom: 2rem;\n}\n</style>"]}]}