{"remainingRequest":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/MyInfo.vue?vue&type=style&index=0&id=435d7634&scoped=true&lang=css&","dependencies":[{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/MyInfo.vue","mtime":1574262312000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_css-loader@3.2.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubGlzdF9jb250ZW50IHsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDIxMCwgMjEwLCAyMTAsIDEpOwp9Ci5pbWcgewogIHdpZHRoOiAxcmVtOwogIGhlaWdodDogMXJlbTsKfQouaXRlbSB7CiAgLyogaGVpZ2h0OiAxLjMycmVtOyAqLwogIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMSk7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMjEwLCAyMTAsIDIxMCwgMSk7CiAgZm9udC1zaXplOiAwLjRyZW07CiAgcGFkZGluZzogMC4zcmVtIDAuNHJlbTsKfQouZ3JheSB7CiAgY29sb3I6ICM5OTk7Cn0KLnRpdGxlIHsKICBjb2xvcjogIzIyMjsKfQoudmFuLWNlbGwgewogIGJvcmRlcjogMXB4IHNvbGlkICNkNmQ2ZDY7CiAgYm9yZGVyLXJhZGl1czogMC4wNjY3cmVtOwogIG1hcmdpbi10b3A6IDAuMnJlbTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0K"},{"version":3,"sources":["MyInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyInfo.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"list\">\n    <Gheader title=\"个人信息\" back=\"1\" />\n    <div class=\"list_content\">\n      <div class=\"item flex_bet auto\">\n        <p class=\"title\">头像</p>\n        <van-image width=\"1.5rem\" height=\"1.5rem\" round lazy-load :src=\"avatar\" />\n      </div>\n      <div\n        class=\"item flex_bet\"\n        v-for=\"item in list\"\n        :key=\"item.id\"\n        @click=\"showEditModal(item.title)\"\n      >\n        <p class=\"title\">{{item.title}}</p>\n        <p class=\"gray\">{{item.value}}</p>\n      </div>\n    </div>\n\n    <!-- 弹窗组件 -->\n    <van-dialog v-model=\"editModal\" title=\"真实姓名\" show-cancel-button :beforeClose=\"beforeClose\">\n      <van-field v-model=\"modalVal\" placeholder=\"请输入真实姓名\" />\n    </van-dialog>\n  </div>\n</template>\n<script>\nexport default {\n  components: {},\n  data() {\n    return {\n      editModal: false,\n      userName: '',\n      modalVal: '',\n      petName: '',\n      phone: '',\n      avatar: '',\n      list: [\n        { id: 0, title: '昵称', type: 'nickname', value: '' },\n        { id: 1, title: '真实姓名', type: 'name', value: '' },\n        { id: 2, title: '电话号码', type: 'phone', value: '' }\n      ]\n    }\n  },\n  methods: {\n    showEditModal(e) {\n      this.editModal = e === '真实姓名'\n    },\n    queryInfo() {\n      this.$store.dispatch('getMyInfo')\n    },\n    handleConfirmUserInfo(e) {\n      console.log(e)\n    },\n    beforeClose(a, d) {\n      console.log(a)\n      if (a === 'cancel') {\n        d()\n      } else if (a === 'confirm') {\n        if (!this.modalVal) {\n          this.$toast('姓名不能为空')\n          d(false)\n          return\n        }\n        this.$store.dispatch('editName', {\n          name: this.modalVal\n        })\n        d(true)\n        \n      }\n      this.modalVal = ''\n    }\n  },\n  computed: {\n    myInfo() {\n      return this.$store.state.myInfo\n    },\n    realName(){\n      return this.$store.state.realName\n    }\n  },\n  watch: {\n    realName(d){\n      if(d.data===1){\n        this.queryInfo()\n      }\n    },\n    myInfo(d) {\n      // 个人信息\n      let { my_user_info } = d\n      let { headimg, phone, nickname, name } = my_user_info\n      this.name = name\n      this.avatar = headimg\n      this.name = nickname\n      this.phone = phone\n      let arr = [nickname, name, phone]\n      this.list = this.list.map((item, idx) => {\n        item.value = arr[idx]\n        return item\n      })\n    }\n  },\n  mounted() {\n    this.queryInfo()\n  }\n}\n</script>\n<style scoped>\n.list_content {\n  background: #fff;\n  border-bottom: 1px solid rgba(210, 210, 210, 1);\n}\n.img {\n  width: 1rem;\n  height: 1rem;\n}\n.item {\n  /* height: 1.32rem; */\n  background: rgba(255, 255, 255, 1);\n  border-top: 1px solid rgba(210, 210, 210, 1);\n  font-size: 0.4rem;\n  padding: 0.3rem 0.4rem;\n}\n.gray {\n  color: #999;\n}\n.title {\n  color: #222;\n}\n.van-cell {\n  border: 1px solid #d6d6d6;\n  border-radius: 0.0667rem;\n  margin-top: 0.2rem;\n  text-align: center;\n}\n</style>"]}]}