{"remainingRequest":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/MyMsgList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/MyMsgList.vue","mtime":1574169115000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNc2dDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvTXNnQ2FyZCcKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE1zZ0NhcmQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZpbmlzaGVkOiBmYWxzZSwKICAgICAgc3RhcnQ6IDAsCiAgICAgIGxpbWl0OiAxMCwKICAgICAgdG90YWw6IDAKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uTG9hZCgpIHsKICAgICAgdGhpcy5xdWVyeU1zZ0xpc3QoKQogICAgICB0aGlzLnN0YXJ0ICs9IDEwCiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICB9LAogICAgcXVlcnlNc2dMaXN0KCkgewogICAgICBsZXQgeyBzdGFydCwgbGltaXQgfSA9IHRoaXMKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dldE1zZ0xpc3QnLCB7CiAgICAgICAgc3RhcnQsCiAgICAgICAgbGltaXQKICAgICAgfSkKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBtc2dPYmooZCkgewogICAgICBsZXQgeyBsaXN0LCBudW1zIH0gPSBkCiAgICAgIGNvbnNvbGUubG9nKGxpc3QsIG51bXMpCiAgICAgIHRoaXMudG90YWwgPSBudW1zICogMQogICAgICB0aGlzLmxpc3QgPSBbLi4udGhpcy5saXN0LCAuLi5saXN0XQogICAgICBpZiAodGhpcy5saXN0Lmxlbmd0aCA+PSB0aGlzLnRvdGFsKSB7CiAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWUKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG1zZ09iaigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm1zZ0xpc3QKICAgIH0KICB9Cn0K"},{"version":3,"sources":["MyMsgList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyMsgList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <Gheader title=\"我的消息\" back=\"1\" />\n    <div class=\"pad_container\">\n      <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\n        <van-cell v-for=\"item in list\" :key=\"item.id\" style=\"padding:0;\">\n          <MsgCard\n            :title=\"item.title\"\n            :status=\"item.status\"\n            :time=\"formatDate(item.ctime)\"\n            :art=\"item.content\"\n            :to=\"'/myMsg?id='+item.id\"\n          />\n        </van-cell>\n      </van-list>\n    </div>\n  </div>\n</template>\n<script>\nimport MsgCard from '../components/MsgCard'\nexport default {\n  components: {\n    MsgCard\n  },\n  data() {\n    return {\n      list: [],\n      loading: false,\n      finished: false,\n      start: 0,\n      limit: 10,\n      total: 0\n    }\n  },\n  methods: {\n    onLoad() {\n      this.queryMsgList()\n      this.start += 10\n      this.loading = false\n    },\n    queryMsgList() {\n      let { start, limit } = this\n      this.$store.dispatch('getMsgList', {\n        start,\n        limit\n      })\n    }\n  },\n  watch: {\n    msgObj(d) {\n      let { list, nums } = d\n      console.log(list, nums)\n      this.total = nums * 1\n      this.list = [...this.list, ...list]\n      if (this.list.length >= this.total) {\n        this.finished = true\n      }\n    }\n  },\n  computed: {\n    msgObj() {\n      return this.$store.state.msgList\n    }\n  }\n}\n</script>\n<style scoped>\n.van-cell {\n  background: transparent;\n  padding: 0!important;\n}\n</style>"]}]}