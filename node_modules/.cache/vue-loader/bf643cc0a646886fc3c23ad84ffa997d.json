{"remainingRequest":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/MyGrade.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/MyGrade.vue","mtime":1574342973000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBHcmFkZUNhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9HcmFkZUNhcmQnCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBHcmFkZUNhcmQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbWc6IGBodHRwczovL3NzMy5iZHN0YXRpYy5jb20vNzBjRnY4U2hfUTFZbnhHa3BvV0sxSEY2aGh5L2l0L3U9MzI2OTUwMzgxNywzOTY1OTYwOTImZm09MjYmZ3A9MC5qcGdgLAoKICAgICAgbGlzdDogW10sCiAgICAgIG1lbnVMaXN0OiBbCiAgICAgICAgeyB0aXRsZTogJ+ezu+e7n+i1oOmAgScgfSwKICAgICAgICB7IHRpdGxlOiAn55u05o6o6I635b6X56ev5YiGJyB9LAogICAgICAgIHsgdGl0bGU6ICfkuJrnu6nlpZblirHnp6/liIYnIH0sCiAgICAgIF0sCiAgICAgIGFjdGl2ZTogMCwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZpbmlzaGVkOiBmYWxzZSwKCiAgICAgIGxpbWl0OiAxMCwKICAgICAgdG90YWw6IDAKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWFkeaNogogCiAgICAvLyDlm6LpmJ/kurrmlbAKICAgIHF1ZXJ5TWVtYmVyKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0TW9uZXlHcmFkZScpCiAgICB9LAoKICAgIHF1ZXJ5TWVtYmVyTGlzdCgpIHsKICAgICAgbGV0IHsgc3RhcnQsIGxpbWl0IH0gPSB0aGlzCiAgICAgIGxldCBvYmogPSB7CiAgICAgICAgMDogJzEnLAogICAgICAgIDE6ICcyJywKICAgICAgICAyOiAnNCcsCiAgICAgIH0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3F1ZXJ5R3JhZGUnLCB7CiAgICAgICAgc3RhcnQsCiAgICAgICAgdHlwZTogb2JqW3RoaXMuYWN0aXZlXSwKICAgICAgICBsaW1pdAogICAgICB9KQogICAgfSwKICAgIG9uTG9hZCgpIHsKICAgICAgdGhpcy5xdWVyeU1lbWJlckxpc3QoKQogICAgICB0aGlzLnN0YXJ0ICs9IHRoaXMubGltaXQKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgIH0sCiAgICBzd2l0Y2hUYWIoKSB7CiAgICAgIHRoaXMucmVzZXRRdWVyeSgpCiAgICB9LAogICAgcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5zdGFydCA9IDAKICAgICAgdGhpcy5saXN0ID0gW10KICAgICAgLy8gdGhpcy5saXN0ID0gW10KICAgICAgLy8gdGhpcy5sb2FkaW5nID1mYWxzZQogICAgICB0aGlzLnF1ZXJ5TWVtYmVyTGlzdCgpCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g6ZKx5YyF56ev5YiGCiAgICBtb25leUdyYWRlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubW9uZXlHcmFkZQogICAgfSwKICAgIGdyYWRlTGlzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmdyYWRlTGlzdAogICAgfSwKIAogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIOS6uuaVsAogICAgbW9uZXlHcmFkZShkYXRhKSB7CiAgICAvLyAgY29uc29sZS5sb2coZGF0YSkKICAgIH0sCiAgICBncmFkZUxpc3QoZCkgewoKICAgICAgbGV0IHsgbGlzdCwgbnVtcyB9ID0gZAogICAgICBjb25zb2xlLmxvZyhsaXN0LG51bXMpCiAKICAgICAgdGhpcy5saXN0ID0gWy4uLnRoaXMubGlzdCwgLi4ubGlzdF0KICAgICAgdGhpcy50b3RhbCA9IG51bXMgKiAxCiAgICAgIGlmICh0aGlzLmxpc3QubGVuZ3RoID49IHRoaXMudG90YWwpIHsKICAgICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMubGlzdC5sZW5ndGgsIHRoaXMudG90YWwpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlCiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnF1ZXJ5TWVtYmVyKCkKICB9Cn0K"},{"version":3,"sources":["MyGrade.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyGrade.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <Gheader title=\"我的积分\" back=\"1\" />\n    <!-- 当前积分 -->\n    <div class=\"header_con\">\n      <div class=\"left\">\n        <p>当前积分</p>\n        <p class=\"num\">{{moneyGrade.score}}</p>\n        <small>满100倍数积分兑换到”我的钱包“</small>\n      </div>\n      <router-link tag=\"p\" class=\"right\" to=\"/exchangeGrade\">兑换</router-link>\n    </div>\n\n      <!-- 类型 -->\n      <div class=\"top\">\n        <van-tabs v-model=\"active\" sticky @click=\"switchTab\">\n          <van-tab class=\"con\" :title=\"item.title\" v-for=\"item in menuList\" :key=\"item.title\"></van-tab>\n        </van-tabs>\n\n        <!-- 列表 -->\n        <div class=\" main_content\">\n          <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\n            <div class=\"list_item\" v-for=\"item in list\" :key=\"item.id\">\n            <GradeCard :score=\"item.score\" check=\"throuth\" :time=\"item.ctime\" :after_score=\"item.after_score\" />\n            </div>\n          </van-list>\n        </div>\n        \n      </div>\n  </div>\n</template>\n<script>\nimport GradeCard from '../components/GradeCard'\nexport default {\n  components: {\n    GradeCard\n  },\n  data() {\n    return {\n      img: `https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3269503817,396596092&fm=26&gp=0.jpg`,\n\n      list: [],\n      menuList: [\n        { title: '系统赠送' },\n        { title: '直推获得积分' },\n        { title: '业绩奖励积分' },\n      ],\n      active: 0,\n      loading: false,\n      finished: false,\n\n      limit: 10,\n      total: 0\n    }\n  },\n  methods: {\n    // 兑换\n \n    // 团队人数\n    queryMember() {\n      this.$store.dispatch('getMoneyGrade')\n    },\n\n    queryMemberList() {\n      let { start, limit } = this\n      let obj = {\n        0: '1',\n        1: '2',\n        2: '4',\n      }\n      this.$store.dispatch('queryGrade', {\n        start,\n        type: obj[this.active],\n        limit\n      })\n    },\n    onLoad() {\n      this.queryMemberList()\n      this.start += this.limit\n      this.loading = false\n    },\n    switchTab() {\n      this.resetQuery()\n    },\n    resetQuery() {\n      this.start = 0\n      this.list = []\n      // this.list = []\n      // this.loading =false\n      this.queryMemberList()\n    }\n  },\n  computed: {\n    // 钱包积分\n    moneyGrade() {\n      return this.$store.state.moneyGrade\n    },\n    gradeList() {\n      return this.$store.state.gradeList\n    },\n \n  },\n  watch: {\n    // 人数\n    moneyGrade(data) {\n    //  console.log(data)\n    },\n    gradeList(d) {\n\n      let { list, nums } = d\n      console.log(list,nums)\n \n      this.list = [...this.list, ...list]\n      this.total = nums * 1\n      if (this.list.length >= this.total) {\n        this.finished = true\n        console.log(this.list.length, this.total)\n      } else {\n        this.finished = false\n      }\n    }\n  },\n  mounted() {\n    this.queryMember()\n  }\n}\n</script>\n<style scoped>\n.header_con {\n  width: 9.5733rem;\n  height: 4.24rem;\n  background-color: rgba(231, 0, 2, 1);\n  background-image: url('../assets/icons/other/bg_d.png');\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: bottom;\n  box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.15);\n  border-radius: 0.2rem;\n  margin: 0.2rem auto;\n}\n.header_con {\n  font-size: 0.4rem;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n}\n.header_con p,\n.header_con div,\nsmall {\n  color: rgba(255, 255, 255, 0.753);\n}\n.header_con .num {\n  color: #fff;\n  font-size: 0.96rem;\n}\n.header_con .right {\n  display: flex;\n  width: 2.0133rem;\n  height: 0.7467rem;\n  border: 0.0267rem solid rgba(255, 255, 255, 1);\n  border-radius: 0.3733rem;\n  text-align: center;\n  justify-content: center;\n  align-items: center;\n}\n.van-tab__pane {\n  box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.15);\n  border-radius: 0.1333rem;\n  overflow: hidden;\n  width: 9.6rem;\n  margin: 0.2rem auto;\n}\n.right::before{\n  content: \"\";\n  display: inline-block;\n  width: .4rem;\n  height: .4rem;\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  background-image: url('../assets/icons/other/exchange.png')\n}\n.main_content{\n  width: 9.4rem;margin: 0 auto;\n  box-sizing: border-box;\n  background: #fff;\n  box-shadow:0px 0.0267rem 0.08rem 0px rgba(0, 0, 0, 0.15);\nborder-radius:0.2rem;\npadding: .2rem;box-sizing: border-box;\n}\n</style>"]}]}