{"remainingRequest":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/ExchangeGrade.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/ExchangeGrade.vue","mtime":1574609562918},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBHcmFkZUNhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9HcmFkZUNhcmQnCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBHcmFkZUNhcmQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbWc6IGBodHRwczovL3NzMy5iZHN0YXRpYy5jb20vNzBjRnY4U2hfUTFZbnhHa3BvV0sxSEY2aGh5L2l0L3U9MzI2OTUwMzgxNywzOTY1OTYwOTImZm09MjYmZ3A9MC5qcGdgLAogICAgICBudW06ICcnLAogICAgICBsaXN0OiBbXSwKICAgICAgbW9uZXk6IDAsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBmaW5pc2hlZDogZmFsc2UsCgogICAgICBsaW1pdDogMTAsCiAgICAgIHRvdGFsOiAwCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDlhZHmjaIKICAgIGhhbmRsZUV4Y2hhbmdlKCkgewogICAgICBpZiAodGhpcy5tb25leSAqIDEgPCAxMDApIHsKICAgICAgICB0aGlzLiR0b2FzdCgn6YeR6aKd5b+F6aG75aSn5LqOMTAwJykKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndHJhbnNUb01vbmV5Jyx7CiAgICAgICAgc2NvcmU6dGhpcy5tb25leQogICAgICB9KQogICAgfSwKICAgIHF1ZXJ5TWVtYmVyTGlzdCgpIHsKICAgICAgbGV0IHsgc3RhcnQsIGxpbWl0IH0gPSB0aGlzCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRFeGNoYW5nZUxpc3QnLCB7CiAgICAgICAgc3RhcnQsCiAgICAgICAgbGltaXQKICAgICAgfSkKICAgIH0sCiAgICBvbkxvYWQoKSB7CiAgICAgIHRoaXMucXVlcnlNZW1iZXJMaXN0KCkKICAgICAgdGhpcy5zdGFydCArPSB0aGlzLmxpbWl0CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICB9LAogICAgLy8g6I635Y+W5oiR55qE6ZKx5YyFCiAgICBnZXRNb25leUdyYWRlKCl7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRNb25leUdyYWRlJykKICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgLy8g5oiR5b6X6ZKx5YyFCiAgICBtb25leUdyYWRlKCl7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5tb25leUdyYWRlCiAgICB9LAogICAgLy8g5YWR5o2i6K6w5b2VCiAgICBleGNoYW5nZUxpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5leGNoYW5nZUxpc3QKICAgIH0sCiAgICB0cmFuc1RvTW9uZXkoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS50cmFuc1RvTW9uZXkKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvLyDmiJHnmoTpkrHljIUKICAgIG1vbmV5R3JhZGUoZCl7CiAgICAgIHRoaXMubnVtID0gZC5zY29yZV9leGNoYW5nZQogICAgICB0aGlzLm1vbmV5ID0gZC5zY29yZQogICAgICBjb25zb2xlLmxvZyhkKQogICAgfSwKICAgIC8vIOWFkeaNouaYr+WQpuaIkOWKnwogICAgdHJhbnNUb01vbmV5KGQpIHsKICAgICAgY29uc29sZS5sb2coZCkKICAgIH0sCiAgICBleGNoYW5nZUxpc3QoZCkgewogICAgICBjb25zb2xlLmxvZyhkKQogICAgICBsZXQgeyBsaXN0LCBudW1zIH0gPSBkCiAgICAgIGNvbnNvbGUubG9nKGxpc3QsIG51bXMpCgogICAgICB0aGlzLmxpc3QgPSBbLi4udGhpcy5saXN0LCAuLi5saXN0XQogICAgICB0aGlzLnRvdGFsID0gbnVtcyAqIDEKICAgICAgaWYgKHRoaXMubGlzdC5sZW5ndGggPj0gdGhpcy50b3RhbCkgewogICAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlCiAgICAgICAgY29uc29sZS5sb2codGhpcy5saXN0Lmxlbmd0aCwgdGhpcy50b3RhbCkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2UKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0TW9uZXlHcmFkZSgpCiAgfQp9Cg=="},{"version":3,"sources":["ExchangeGrade.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ExchangeGrade.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <Gheader title=\"我的积分\" back=\"1\" />\n    <!-- 当前积分 -->\n    <div class=\"header_con\">\n      <div class=\"left\">\n        <p>当前积分</p>\n        <input class=\"num\" v-model=\"money\" placeholder type=\"number\" />\n        <small>现金：积分=1：1；满100倍数可兑换</small>\n      </div>\n      <div class=\"right\"></div>\n    </div>\n\n    <!-- 兑换积分 -->\n    <div class=\"exchange\" @click=\"handleExchange\">立即兑换</div>\n    <p class=\"exNum\">已经成功兑换{{num}}分</p>\n    <div class=\"pad_container\">\n      <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\n        <van-cell v-for=\"item in list\" :key=\"item.id\">\n          <GradeCard\n            :score=\"item.score\"\n            :status=\"item.status\"\n            :time=\"item.ctime\"\n            :after_score=\"item.after_score\"\n          />\n        </van-cell>\n      </van-list>\n    </div>\n  </div>\n</template>\n<script>\nimport GradeCard from '../components/GradeCard'\nexport default {\n  components: {\n    GradeCard\n  },\n  data() {\n    return {\n      img: `https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3269503817,396596092&fm=26&gp=0.jpg`,\n      num: '',\n      list: [],\n      money: 0,\n      loading: false,\n      finished: false,\n\n      limit: 10,\n      total: 0\n    }\n  },\n  methods: {\n    // 兑换\n    handleExchange() {\n      if (this.money * 1 < 100) {\n        this.$toast('金额必须大于100')\n        return\n      }\n      this.$store.dispatch('transToMoney',{\n        score:this.money\n      })\n    },\n    queryMemberList() {\n      let { start, limit } = this\n      this.$store.dispatch('getExchangeList', {\n        start,\n        limit\n      })\n    },\n    onLoad() {\n      this.queryMemberList()\n      this.start += this.limit\n      this.loading = false\n    },\n    // 获取我的钱包\n    getMoneyGrade(){\n      this.$store.dispatch('getMoneyGrade')\n    },\n  },\n  computed: {\n    // 我得钱包\n    moneyGrade(){\n      return this.$store.state.moneyGrade\n    },\n    // 兑换记录\n    exchangeList() {\n      return this.$store.state.exchangeList\n    },\n    transToMoney() {\n      return this.$store.state.transToMoney\n    }\n  },\n  watch: {\n    // 我的钱包\n    moneyGrade(d){\n      this.num = d.score_exchange\n      this.money = d.score\n      console.log(d)\n    },\n    // 兑换是否成功\n    transToMoney(d) {\n      console.log(d)\n    },\n    exchangeList(d) {\n      console.log(d)\n      let { list, nums } = d\n      console.log(list, nums)\n\n      this.list = [...this.list, ...list]\n      this.total = nums * 1\n      if (this.list.length >= this.total) {\n        this.finished = true\n        console.log(this.list.length, this.total)\n      } else {\n        this.finished = false\n      }\n    }\n  },\n  mounted() {\n    this.getMoneyGrade()\n  }\n}\n</script>\n<style scoped>\n.header_con {\n  width: 9.5733rem;\n  height: 4.24rem;\n  /* background-color: rgba(231, 0, 2, 1); */\n  background-image: url('../assets/icons/other/bg_w.png');\n  background-repeat: no-repeat;\n  background-size: 100%;\n  background-position: center;\n  box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.15);\n  border-radius: 0.2rem;\n  margin: 0.2rem auto;\n  color: #e70002;\n}\n.header_con {\n  font-size: 0.4rem;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding: 0.3rem;\n  box-sizing: border-box;\n}\n.header_con p,\n.header_con div,\nsmall {\n  color: #e70002;\n}\n.header_con .num,\n.van-field__control {\n  color: #e70002;\n  display: block;\n  font-size: 0.8rem;\n}\n.header_con .right {\n  display: flex;\n  width: 2.0133rem;\n  height: 0.7467rem;\n  border: 0.0267rem solid rgba(255, 255, 255, 1);\n  border-radius: 0.3733rem;\n  text-align: center;\n  justify-content: center;\n  align-items: center;\n}\n.van-tab__pane {\n  box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.15);\n  border-radius: 0.1333rem;\n  overflow: hidden;\n  width: 9.6rem;\n  margin: 0.2rem auto;\n}\n.right::before {\n  content: '';\n  display: inline-block;\n  width: 0.4rem;\n  height: 0.4rem;\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  background-image: url('../assets/icons/other/exchange.png');\n}\n.exchange {\n  width: 9rem;\n  height: 1.3467rem;\n  text-align: center;\n  background: #e70002;\n  line-height: 1.3467rem;\n  margin: 0.2rem auto;\n  margin-top: 0.3rem;\n  color: #fff;\n  border-radius: 0.7rem;\n}\n.exNum {\n  color: #e70002;\n  font-size: 0.4rem;\n  padding: 0 0.4rem;\n}\n</style>"]}]}