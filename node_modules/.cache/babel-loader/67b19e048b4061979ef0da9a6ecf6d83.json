{"remainingRequest":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/components/SkuModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/components/SkuModal.vue","mtime":1574686079966},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU2t1Q2FyZCBmcm9tICIuLi9jb21wb25lbnRzL1NrdUNhcmQiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgU2t1Q2FyZDogU2t1Q2FyZAogIH0sCiAgcHJvcHM6IHsKICAgIHNob3c6IHsKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBza3VEYXRhOiB7fQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltZzogJycsCiAgICAgIG1vZGFsOiBmYWxzZSwKICAgICAgY291bnQ6IDEsCiAgICAgIHRpY2tldDogJycsCiAgICAgIG5hbWU6ICcnLAogICAgICBhdHRyX2lkOiAnJywKICAgICAgYWN0aXZlOiAwLAogICAgICBjdXJyZW50SXRlbToge30sCiAgICAgIHRpY2tldFA6ICcnLAogICAgICBsaXN0OiBbXQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBzaG93OiBmdW5jdGlvbiBzaG93KHMpIHsKICAgICAgdGhpcy5tb2RhbCA9IHM7CiAgICB9LAogICAgc2t1RGF0YTogZnVuY3Rpb24gc2t1RGF0YShkKSB7CiAgICAgIHRoaXMubGlzdCA9IGQuZ29vZHNfYXR0clsnMTAyMSddLmNoaWxkcmVuLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLm5hbWU7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnNrdURhdGEsICfigJjpmL/okKjlvrcnKTsKICAgICAgZC5nb29kc19pbWcgPSBkLmdvb2RzX2ltZy5zcGxpdCgnfHx8JylbMF07CiAgICAgIHRoaXMuaW1nID0gdGhpcy5mb3JtYXRJbWcoZC5nb29kc19pbWcpOwogICAgICB0aGlzLnRpY2tldCA9IGQuZGxxX2FkZF9udW1zIHx8IGQuZGxxX25lZWRfbnVtczsKCiAgICAgIGlmIChkLmRscV9hZGRfbnVtcykgewogICAgICAgIHRoaXMudGlja2V0UCA9ICfotaDpgIHku6PnkIbotYTmoLzliLgnOwogICAgICB9IGVsc2UgaWYgKGQuZGxxX25lZWRfbnVtcykgewogICAgICAgIHRoaXMudGlja2V0UCA9ICfpnIDopoHku6PnkIbotYTmoLzliLgnOwogICAgICB9CgogICAgICB2YXIgZmlyc3QgPSB0aGlzLnNrdURhdGEuZ29vZHNfYXR0clsnMTAyMSddLmNoaWxkcmVuWzBdOwogICAgICB0aGlzLm5hbWUgPSBmaXJzdC5uYW1lOwogICAgICB0aGlzLmF0dHJfaWQgPSBmaXJzdC5hdHRyX2lkOwogICAgICB0aGlzLmltZyA9IHRoaXMuZm9ybWF0SW1nKGZpcnN0LmNvdmVyKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNsczogZnVuY3Rpb24gaGFuZGxlQ2xzKCkgewogICAgICB0aGlzLm1vZGFsID0gZmFsc2U7CiAgICAgIHRoaXMuJGVtaXQoJ2hhbmRsZUNscycsIGZhbHNlKTsKICAgIH0sCiAgICBoYW5kbGVDaG9vc2U6IGZ1bmN0aW9uIGhhbmRsZUNob29zZShuYW1lLCBpZHgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuc2t1RGF0YS5nb29kc19hdHRyWycxMDIxJ10uY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PT0gbmFtZSkgewogICAgICAgICAgY29uc29sZS5sb2coaXRlbSk7IC8vIOmAieaLqQoKICAgICAgICAgIF90aGlzLm5hbWUgPSBpdGVtLm5hbWU7CiAgICAgICAgICBfdGhpcy5hdHRyX2lkID0gaXRlbS5hdHRyX2lkOwogICAgICAgICAgX3RoaXMuaW1nID0gX3RoaXMuZm9ybWF0SW1nKGl0ZW0uY292ZXIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuYWN0aXZlID0gaWR4OwogICAgfSwKICAgIGFjdGl2ZUNsczogZnVuY3Rpb24gYWN0aXZlQ2xzKGlkeCkgewogICAgICBpZiAodGhpcy5hY3RpdmUgPT09IGlkeCkgewogICAgICAgIHJldHVybiAnaXRlbSBhY3RpdmUnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnaXRlbSc7CiAgICAgIH0KICAgIH0sCiAgICAvLyDojrflj5bmmK/pm7bllK7ljLrov5jmmK/kvJrlkZjljLrov5jmmK/ku6PnkIbljLoKICAgIGdldFNvdXJjZTogZnVuY3Rpb24gZ2V0U291cmNlKCkgewogICAgICB2YXIgdHlwZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGU7CgogICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICBjYXNlICdyZXRhaWwnOgogICAgICAgICAgcmV0dXJuIDE7CgogICAgICAgIGNhc2UgJ2FnZW50JzoKICAgICAgICAgIHJldHVybiAzOwoKICAgICAgICBjYXNlICdtZW1iZXInOgogICAgICAgICAgcmV0dXJuIDI7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVPcmRlcjogZnVuY3Rpb24gY3JlYXRlT3JkZXIoKSB7CiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpOwogICAgICB2YXIgX3RoaXMkc2t1RGF0YSA9IHRoaXMuc2t1RGF0YSwKICAgICAgICAgIGdvb2RzX2lkID0gX3RoaXMkc2t1RGF0YS5nb29kc19pZCwKICAgICAgICAgIHByaWNlID0gX3RoaXMkc2t1RGF0YS5wcmljZSwKICAgICAgICAgIHBlcmlvZF9pZCA9IF90aGlzJHNrdURhdGEucGVyaW9kX2lkLAogICAgICAgICAgZGxxX2FkZF9udW1zID0gX3RoaXMkc2t1RGF0YS5kbHFfYWRkX251bXMsCiAgICAgICAgICBkbHFfbmVlZF9udW1zID0gX3RoaXMkc2t1RGF0YS5kbHFfbmVlZF9udW1zLAogICAgICAgICAgZ29vZHNfbmFtZSA9IF90aGlzJHNrdURhdGEuZ29vZHNfbmFtZTsgLy/orqLljZXlj7cKCiAgICAgIHZhciBhdHRyX2lkID0gdGhpcy5hdHRyX2lkOwogICAgICB2YXIgYnV5X251bSA9IHRoaXMuY291bnQ7CiAgICAgIHZhciBuYW1lID0gdGhpcy5uYW1lOwogICAgICB2YXIgaW1nID0gdGhpcy5pbWc7CiAgICAgIHZhciBvcmRlcl9udW0gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgLy/luKblj4LmlbDliLDorqLljZUKCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnb3JkZXInLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBzb3VyY2U6IHNvdXJjZSwKICAgICAgICAgIGdvb2RzX2lkOiBnb29kc19pZCwKICAgICAgICAgIHByaWNlOiBwcmljZSwKICAgICAgICAgIHBlcmlvZF9pZDogcGVyaW9kX2lkLAogICAgICAgICAgYXR0cl9pZDogYXR0cl9pZCwKICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICBkbHFfYWRkX251bXM6IGRscV9hZGRfbnVtcywKICAgICAgICAgIGRscV9uZWVkX251bXM6IGRscV9uZWVkX251bXMsCiAgICAgICAgICBpbWc6IGltZywKICAgICAgICAgIGdvb2RzX25hbWU6IGdvb2RzX25hbWUsCiAgICAgICAgICBidXlfbnVtOiBidXlfbnVtLAogICAgICAgICAgb3JkZXJfbnVtOiBvcmRlcl9udW0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9Cn07"},{"version":3,"sources":["SkuModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <van-popup v-model=\"modal\" position=\"bottom\" @closed=\"handleCls\">\n      <SkuCard\n        :img=\"img\"\n        :num=\"ticket\"\n        :price=\"formatPrice(skuData.price)\"\n        :title=\"skuData.goods_name\"\n        :tickP=\"ticketP\"\n      />\n\n      <div class=\"pad_container\">\n        <!-- 度数 -->\n        <p>度数</p>\n        <div class=\"desc\">\n          <div\n            :class=\"activeCls(idx)\"\n            v-for=\"(item,idx) in list\"\n            :key=\"item\"\n            @click=\"handleChoose(item,idx)\"\n          >{{item}}</div>\n        </div>\n        <!-- 选择数量 -->\n        <div class=\"count flex_bet\">\n          <p>购买数量</p>\n          <van-stepper v-model=\"count\" button-size=\".6rem\" />\n        </div>\n        <!-- 抢购俺妞妞 -->\n        <div class=\"buy\" @click=\"createOrder\">立即抢购</div>\n      </div>\n    </van-popup>\n  </div>\n</template>\n<script>\nimport SkuCard from '../components/SkuCard'\nexport default {\n  components: {\n    SkuCard\n  },\n  props: {\n    show: {\n      default: false\n    },\n    skuData: {}\n  },\n  data() {\n    return {\n      img: '',\n      modal: false,\n      count: 1,\n      ticket: '',\n      name: '',\n      attr_id: '',\n      active: 0,\n      currentItem: {},\n      ticketP: '',\n      list: []\n    }\n  },\n  watch: {\n    show(s) {\n      this.modal = s\n    },\n    skuData(d) {\n      this.list = d.goods_attr['1021'].children.map(item => {\n        return item.name\n      })\n      console.log(this.skuData, '‘阿萨德')\n      d.goods_img = d.goods_img.split('|||')[0]\n      this.img = this.formatImg(d.goods_img)\n      this.ticket = d.dlq_add_nums || d.dlq_need_nums\n      if (d.dlq_add_nums) {\n        this.ticketP = '赠送代理资格券'\n      } else if (d.dlq_need_nums) {\n        this.ticketP = '需要代理资格券'\n      }\n\n      let first =     this.skuData.goods_attr['1021'].children[0]\n     this.name = first.name\n          this.attr_id = first.attr_id\n          this.img = this.formatImg(first.cover)\n  \n    }\n  },\n  methods: {\n    handleCls() {\n      this.modal = false\n      this.$emit('handleCls', false)\n    },\n    handleChoose(name, idx) {\n      this.skuData.goods_attr['1021'].children.map(item => {\n        if (item.name === name) {\n          console.log(item)\n          // 选择\n          this.name = item.name\n          this.attr_id = item.attr_id\n          this.img = this.formatImg(item.cover)\n        }\n      })\n\n      this.active = idx\n    },\n    activeCls(idx) {\n      if (this.active === idx) {\n        return 'item active'\n      } else {\n        return 'item'\n      }\n    },\n    // 获取是零售区还是会员区还是代理区\n    getSource() {\n      let { type } = this.$route.query\n      switch (type) {\n        case 'retail':\n          return 1\n        case 'agent':\n          return 3\n        case 'member':\n          return 2\n        default:\n          return ''\n      }\n    },\n    createOrder() {\n      let source = this.getSource()\n      let {\n        goods_id,\n        price,\n        period_id,\n        dlq_add_nums,\n        dlq_need_nums,\n        goods_name\n      } = this.skuData\n      //订单号\n      let attr_id = this.attr_id\n      let buy_num = this.count\n      let name = this.name\n      let img = this.img\n      let order_num = new Date().getTime()\n      //带参数到订单\n      this.$router.push({\n        name: 'order',\n        query: {\n          source,\n          goods_id,\n          price,\n          period_id,\n          attr_id,\n          name,\n          dlq_add_nums,\n          dlq_need_nums,\n          img,\n          goods_name,\n          buy_num,\n          order_num\n        }\n      })\n    }\n  },\n  mounted() {}\n}\n</script>\n<style scoped>\np {\n  font-size: 0.3733rem;\n}\n.buy {\n  left: 0;\n  right: 0;\n  bottom: 1rem;\n  margin: auto;\n  width: 5.0133rem;\n  height: 1.3867rem;\n  color: #fff;\n  background-image: url('../assets/icons/home/buy.png');\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  background-color: transparent;\n  border: none;\n  box-sizing: border-box;\n  padding-right: 0.4rem;\n  font-size: 0.36rem;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.5rem;\n  margin: 1rem auto;\n}\n.item {\n  display: inline-block;\n  margin: 0.1rem;\n  border: 0.0267rem solid rgba(193, 193, 193, 1);\n  font-size: 0.36rem;\n  border-radius: 0.2rem;\n  padding: 0.2rem 0.4rem;\n}\n.active {\n  border: 0.0267rem solid #ff0000;\n}\n</style>"],"sourceRoot":"src/components"}]}