{"remainingRequest":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/ExchangeGrade.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/src/views/ExchangeGrade.vue","mtime":1574609562918},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/silan/Desktop/code/code/partTime/wine/svnapp/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvc2lsYW4vRGVza3RvcC9jb2RlL2NvZGUvcGFydFRpbWUvd2luZS9zdm5hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEdyYWRlQ2FyZCBmcm9tICIuLi9jb21wb25lbnRzL0dyYWRlQ2FyZCI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBHcmFkZUNhcmQ6IEdyYWRlQ2FyZAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltZzogImh0dHBzOi8vc3MzLmJkc3RhdGljLmNvbS83MGNGdjhTaF9RMVlueEdrcG9XSzFIRjZoaHkvaXQvdT0zMjY5NTAzODE3LDM5NjU5NjA5MiZmbT0yNiZncD0wLmpwZyIsCiAgICAgIG51bTogJycsCiAgICAgIGxpc3Q6IFtdLAogICAgICBtb25leTogMCwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZpbmlzaGVkOiBmYWxzZSwKICAgICAgbGltaXQ6IDEwLAogICAgICB0b3RhbDogMAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWFkeaNogogICAgaGFuZGxlRXhjaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUV4Y2hhbmdlKCkgewogICAgICBpZiAodGhpcy5tb25leSAqIDEgPCAxMDApIHsKICAgICAgICB0aGlzLiR0b2FzdCgn6YeR6aKd5b+F6aG75aSn5LqOMTAwJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndHJhbnNUb01vbmV5JywgewogICAgICAgIHNjb3JlOiB0aGlzLm1vbmV5CiAgICAgIH0pOwogICAgfSwKICAgIHF1ZXJ5TWVtYmVyTGlzdDogZnVuY3Rpb24gcXVlcnlNZW1iZXJMaXN0KCkgewogICAgICB2YXIgc3RhcnQgPSB0aGlzLnN0YXJ0LAogICAgICAgICAgbGltaXQgPSB0aGlzLmxpbWl0OwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0RXhjaGFuZ2VMaXN0JywgewogICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICBsaW1pdDogbGltaXQKICAgICAgfSk7CiAgICB9LAogICAgb25Mb2FkOiBmdW5jdGlvbiBvbkxvYWQoKSB7CiAgICAgIHRoaXMucXVlcnlNZW1iZXJMaXN0KCk7CiAgICAgIHRoaXMuc3RhcnQgKz0gdGhpcy5saW1pdDsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgLy8g6I635Y+W5oiR55qE6ZKx5YyFCiAgICBnZXRNb25leUdyYWRlOiBmdW5jdGlvbiBnZXRNb25leUdyYWRlKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0TW9uZXlHcmFkZScpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOaIkeW+l+mSseWMhQogICAgbW9uZXlHcmFkZTogZnVuY3Rpb24gbW9uZXlHcmFkZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm1vbmV5R3JhZGU7CiAgICB9LAogICAgLy8g5YWR5o2i6K6w5b2VCiAgICBleGNoYW5nZUxpc3Q6IGZ1bmN0aW9uIGV4Y2hhbmdlTGlzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmV4Y2hhbmdlTGlzdDsKICAgIH0sCiAgICB0cmFuc1RvTW9uZXk6IGZ1bmN0aW9uIHRyYW5zVG9Nb25leSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnRyYW5zVG9Nb25leTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvLyDmiJHnmoTpkrHljIUKICAgIG1vbmV5R3JhZGU6IGZ1bmN0aW9uIG1vbmV5R3JhZGUoZCkgewogICAgICB0aGlzLm51bSA9IGQuc2NvcmVfZXhjaGFuZ2U7CiAgICAgIHRoaXMubW9uZXkgPSBkLnNjb3JlOwogICAgICBjb25zb2xlLmxvZyhkKTsKICAgIH0sCiAgICAvLyDlhZHmjaLmmK/lkKbmiJDlip8KICAgIHRyYW5zVG9Nb25leTogZnVuY3Rpb24gdHJhbnNUb01vbmV5KGQpIHsKICAgICAgY29uc29sZS5sb2coZCk7CiAgICB9LAogICAgZXhjaGFuZ2VMaXN0OiBmdW5jdGlvbiBleGNoYW5nZUxpc3QoZCkgewogICAgICBjb25zb2xlLmxvZyhkKTsKICAgICAgdmFyIGxpc3QgPSBkLmxpc3QsCiAgICAgICAgICBudW1zID0gZC5udW1zOwogICAgICBjb25zb2xlLmxvZyhsaXN0LCBudW1zKTsKICAgICAgdGhpcy5saXN0ID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmxpc3QpLCBfdG9Db25zdW1hYmxlQXJyYXkobGlzdCkpOwogICAgICB0aGlzLnRvdGFsID0gbnVtcyAqIDE7CgogICAgICBpZiAodGhpcy5saXN0Lmxlbmd0aCA+PSB0aGlzLnRvdGFsKSB7CiAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5saXN0Lmxlbmd0aCwgdGhpcy50b3RhbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRNb25leUdyYWRlKCk7CiAgfQp9Ow=="},{"version":3,"sources":["ExchangeGrade.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,SAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,GAAA,iGADA;AAEA,MAAA,GAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,CAJA;AAKA,MAAA,OAAA,EAAA,KALA;AAMA,MAAA,QAAA,EAAA,KANA;AAQA,MAAA,KAAA,EAAA,EARA;AASA,MAAA,KAAA,EAAA;AATA,KAAA;AAWA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,cAFA,4BAEA;AACA,UAAA,KAAA,KAAA,GAAA,CAAA,GAAA,GAAA,EAAA;AACA,aAAA,MAAA,CAAA,WAAA;AACA;AACA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA;AACA,QAAA,KAAA,EAAA,KAAA;AADA,OAAA;AAGA,KAVA;AAWA,IAAA,eAXA,6BAWA;AAAA,UACA,KADA,GACA,IADA,CACA,KADA;AAAA,UACA,KADA,GACA,IADA,CACA,KADA;AAEA,WAAA,MAAA,CAAA,QAAA,CAAA,iBAAA,EAAA;AACA,QAAA,KAAA,EAAA,KADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAAA;AAIA,KAjBA;AAkBA,IAAA,MAlBA,oBAkBA;AACA,WAAA,eAAA;AACA,WAAA,KAAA,IAAA,KAAA,KAAA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,KAtBA;AAuBA;AACA,IAAA,aAxBA,2BAwBA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,eAAA;AACA;AA1BA,GAjBA;AA6CA,EAAA,QAAA,EAAA;AACA;AACA,IAAA,UAFA,wBAEA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA;AACA,KAJA;AAKA;AACA,IAAA,YANA,0BAMA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA;AACA,KARA;AASA,IAAA,YATA,0BASA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA;AACA;AAXA,GA7CA;AA0DA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,UAFA,sBAEA,CAFA,EAEA;AACA,WAAA,GAAA,GAAA,CAAA,CAAA,cAAA;AACA,WAAA,KAAA,GAAA,CAAA,CAAA,KAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,KANA;AAOA;AACA,IAAA,YARA,wBAQA,CARA,EAQA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,KAVA;AAWA,IAAA,YAXA,wBAWA,CAXA,EAWA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AADA,UAEA,IAFA,GAEA,CAFA,CAEA,IAFA;AAAA,UAEA,IAFA,GAEA,CAFA,CAEA,IAFA;AAGA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA,EAAA,IAAA;AAEA,WAAA,IAAA,gCAAA,KAAA,IAAA,sBAAA,IAAA;AACA,WAAA,KAAA,GAAA,IAAA,GAAA,CAAA;;AACA,UAAA,KAAA,IAAA,CAAA,MAAA,IAAA,KAAA,KAAA,EAAA;AACA,aAAA,QAAA,GAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AACA,OAHA,MAGA;AACA,aAAA,QAAA,GAAA,KAAA;AACA;AACA;AAxBA,GA1DA;AAoFA,EAAA,OApFA,qBAoFA;AACA,SAAA,aAAA;AACA;AAtFA,CAAA","sourcesContent":["<template>\n  <div>\n    <Gheader title=\"我的积分\" back=\"1\" />\n    <!-- 当前积分 -->\n    <div class=\"header_con\">\n      <div class=\"left\">\n        <p>当前积分</p>\n        <input class=\"num\" v-model=\"money\" placeholder type=\"number\" />\n        <small>现金：积分=1：1；满100倍数可兑换</small>\n      </div>\n      <div class=\"right\"></div>\n    </div>\n\n    <!-- 兑换积分 -->\n    <div class=\"exchange\" @click=\"handleExchange\">立即兑换</div>\n    <p class=\"exNum\">已经成功兑换{{num}}分</p>\n    <div class=\"pad_container\">\n      <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\n        <van-cell v-for=\"item in list\" :key=\"item.id\">\n          <GradeCard\n            :score=\"item.score\"\n            :status=\"item.status\"\n            :time=\"item.ctime\"\n            :after_score=\"item.after_score\"\n          />\n        </van-cell>\n      </van-list>\n    </div>\n  </div>\n</template>\n<script>\nimport GradeCard from '../components/GradeCard'\nexport default {\n  components: {\n    GradeCard\n  },\n  data() {\n    return {\n      img: `https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3269503817,396596092&fm=26&gp=0.jpg`,\n      num: '',\n      list: [],\n      money: 0,\n      loading: false,\n      finished: false,\n\n      limit: 10,\n      total: 0\n    }\n  },\n  methods: {\n    // 兑换\n    handleExchange() {\n      if (this.money * 1 < 100) {\n        this.$toast('金额必须大于100')\n        return\n      }\n      this.$store.dispatch('transToMoney',{\n        score:this.money\n      })\n    },\n    queryMemberList() {\n      let { start, limit } = this\n      this.$store.dispatch('getExchangeList', {\n        start,\n        limit\n      })\n    },\n    onLoad() {\n      this.queryMemberList()\n      this.start += this.limit\n      this.loading = false\n    },\n    // 获取我的钱包\n    getMoneyGrade(){\n      this.$store.dispatch('getMoneyGrade')\n    },\n  },\n  computed: {\n    // 我得钱包\n    moneyGrade(){\n      return this.$store.state.moneyGrade\n    },\n    // 兑换记录\n    exchangeList() {\n      return this.$store.state.exchangeList\n    },\n    transToMoney() {\n      return this.$store.state.transToMoney\n    }\n  },\n  watch: {\n    // 我的钱包\n    moneyGrade(d){\n      this.num = d.score_exchange\n      this.money = d.score\n      console.log(d)\n    },\n    // 兑换是否成功\n    transToMoney(d) {\n      console.log(d)\n    },\n    exchangeList(d) {\n      console.log(d)\n      let { list, nums } = d\n      console.log(list, nums)\n\n      this.list = [...this.list, ...list]\n      this.total = nums * 1\n      if (this.list.length >= this.total) {\n        this.finished = true\n        console.log(this.list.length, this.total)\n      } else {\n        this.finished = false\n      }\n    }\n  },\n  mounted() {\n    this.getMoneyGrade()\n  }\n}\n</script>\n<style scoped>\n.header_con {\n  width: 9.5733rem;\n  height: 4.24rem;\n  /* background-color: rgba(231, 0, 2, 1); */\n  background-image: url('../assets/icons/other/bg_w.png');\n  background-repeat: no-repeat;\n  background-size: 100%;\n  background-position: center;\n  box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.15);\n  border-radius: 0.2rem;\n  margin: 0.2rem auto;\n  color: #e70002;\n}\n.header_con {\n  font-size: 0.4rem;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding: 0.3rem;\n  box-sizing: border-box;\n}\n.header_con p,\n.header_con div,\nsmall {\n  color: #e70002;\n}\n.header_con .num,\n.van-field__control {\n  color: #e70002;\n  display: block;\n  font-size: 0.8rem;\n}\n.header_con .right {\n  display: flex;\n  width: 2.0133rem;\n  height: 0.7467rem;\n  border: 0.0267rem solid rgba(255, 255, 255, 1);\n  border-radius: 0.3733rem;\n  text-align: center;\n  justify-content: center;\n  align-items: center;\n}\n.van-tab__pane {\n  box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.15);\n  border-radius: 0.1333rem;\n  overflow: hidden;\n  width: 9.6rem;\n  margin: 0.2rem auto;\n}\n.right::before {\n  content: '';\n  display: inline-block;\n  width: 0.4rem;\n  height: 0.4rem;\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  background-image: url('../assets/icons/other/exchange.png');\n}\n.exchange {\n  width: 9rem;\n  height: 1.3467rem;\n  text-align: center;\n  background: #e70002;\n  line-height: 1.3467rem;\n  margin: 0.2rem auto;\n  margin-top: 0.3rem;\n  color: #fff;\n  border-radius: 0.7rem;\n}\n.exNum {\n  color: #e70002;\n  font-size: 0.4rem;\n  padding: 0 0.4rem;\n}\n</style>"],"sourceRoot":"src/views"}]}